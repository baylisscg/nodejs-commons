---
steps:
  - label: "Linting :lint-roller:"
    command: "git diff-tree --no-commit-id --name-only -r ${BUILDKITE_COMMIT} | xargs pre-commit run --files"
  - label: "Test :maven::npm:"
    branches: "!develop"
    commands:
      - "mvn clean verify"
  - label: "Test :maven::npm::sonarqube:"
    branches: "develop"
    commands:
      - "mvn clean verify sonar:sonar"
  - label: "Deploy :maven::npm:"
    branches: "develop"
    commands:
      - "mvn clean deploy"
